function setAttributes(e,t){t&&Object.keys(t).forEach((s=>{e.setAttribute(s,t[s])}))}function getCacheBuster(e=!0){return e?"":`?${Date.now()}`}function createPromise(e){if(!e.url||!e.is)return Promise.reject(new Error("No url or type given!"));if(window.__ficusjs__.resources[e.url])return window.__ficusjs__.resources[e.url].promise;{const t=new Promise(((t,s)=>{const handleResponse=i=>{i.error||i.type&&"error"===i.type?s(i.error):(window.__ficusjs__.resources[e.url].hasLoaded=!0,t())};if("script"===e.is){const t=function(e,t=null,s=!0){const i=document.createElement("script");return i.setAttribute("type","text/javascript"),i.setAttribute("src",`${e}${getCacheBuster(s)}`),setAttributes(i,t),i}(e.url,e.attributes,e.cache);t.onerror=handleResponse,t.onload=handleResponse,document.body.appendChild(t)}else if("style"===e.is){const t=function(e,t=null,s=!0){const i=document.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",`${e}${getCacheBuster(s)}`),setAttributes(i,t),i}(e.url,e.attributes,e.cache);t.onerror=handleResponse,t.onload=handleResponse,document.getElementsByTagName("head")[0].appendChild(t)}}));return window.__ficusjs__.resources[e.url]={type:e.is,hasLoaded:!1,promise:t},t}}function html(e){return elementFromString(e.raw[0])}function elementFromString(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function createComponents(e){class t extends HTMLElement{connectedCallback(){if(!this.classList.contains(e.appTagName)){this.classList.add(e.appTagName);const t=window.matchMedia(e.desktopMediaQuery);let s=e.mobileUiTagName,i=e.mobileUiScriptUrl;t.matches&&(s=e.desktopUiTagName,i=e.desktopUiScriptUrl),this.appendChild(elementFromString(`<${s}></${s}>`)),function(...e){if(window.__ficusjs__=window.__ficusjs__||{},window.__ficusjs__.resources=window.__ficusjs__.resources||{},!e.length)return Promise.resolve();const t=e.map((e=>createPromise(e)));Promise.allSettled(t)}({url:i,is:"script",attributes:{type:"module"}})}}}class s extends HTMLElement{connectedCallback(){this.classList.contains(e.mobileUiTagName)||(this.classList.add(e.mobileUiTagName),this.appendChild(html`<div><fas-mobile-header></fas-mobile-header><fas-mobile-nav></fas-mobile-nav><main id="router-outlet"></main><fas-mobile-footer></fas-mobile-footer></div>`))}}class i extends HTMLElement{connectedCallback(){this.classList.contains(e.desktopUiTagName)||(this.classList.add(e.desktopUiTagName),this.appendChild(html`<div><fas-desktop-header></fas-desktop-header><fas-desktop-nav></fas-desktop-nav><main><div id="router-outlet"></div><fas-desktop-aside></fas-desktop-aside></main><fas-desktop-footer></fas-desktop-footer></div>`))}}window.customElements.get(e.appTagName)||window.customElements.define(e.appTagName,t),window.customElements.get(e.mobileUiTagName)||window.customElements.define(e.mobileUiTagName,s),window.customElements.get(e.desktopUiTagName)||window.customElements.define(e.desktopUiTagName,i)}function createAppShellComponents(e){createComponents({appTagName:"fas-app",desktopMediaQuery:"(min-width: 1280px)",reactive:!1,desktopUiTagName:"fas-ui-desktop",desktopUiScriptUrl:"/app-ui-desktop/main.mjs",mobileUiTagName:"fas-ui-mobile",mobileUiScriptUrl:"/app-ui-mobile/main.mjs",...e})}export{createAppShellComponents};
//# sourceMappingURL=main.mjs.map
