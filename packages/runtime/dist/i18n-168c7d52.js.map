{"version":3,"file":"i18n-168c7d52.js","sources":["../../../common/temp/node_modules/@ficusjs/i18n/dist/i18n.mjs","../src/i18n.mjs"],"sourcesContent":["class t{constructor(){if(globalThis.__ficusjs__&&globalThis.__ficusjs__.i18n)return globalThis.__ficusjs__.i18n;this.registry={},this.currentLocale=\"en\",this.interpolateRE=/{{\\s*(\\w+)\\s*}}/g,this.pluralizationRules={en:{pluralizeTo:\"count\",getVariationIndex:t=>1===t?0:1}},this._init(),globalThis.__ficusjs__=globalThis.__ficusjs__||{},globalThis.__ficusjs__.i18n=globalThis.__ficusjs__.i18n||this}_init(){if(\"undefined\"!=typeof window&&\"undefined\"!=typeof document){const t=new URLSearchParams(window.location.search).get(\"lang\"),e=t||(document.documentElement.lang?document.documentElement.lang:navigator.language);e&&this.setLocale(e)}}_translatePlural(t,e,i,r,n){const s=this.pluralizationRules[r],a=Object.keys(i),l=1===a.length?a[0]:n||s.pluralizeTo,o=parseFloat(i[l]);if(isNaN(o))throw new Error(`Translation pluralization missing parameters on key '${t}'`);return this._interpolate(e[s.getVariationIndex(o)],i)}_interpolate(t,e){return e?t.replace(this.interpolateRE,(function(t,i){return null!=e[i]?e[i]:t})):t}t(t,e,i){const r=(i=i||{}).locale||this.currentLocale,n=i.registry||this.registry,s=n[r]&&n[r][t];return void 0===s?this.whenUndefined(t,r):Array.isArray(s)?this._translatePlural(t,s,e,r,i.pluralizeTo):this._interpolate(s,e)}add(t,e,i){return e=e||this.currentLocale,this.registry[e]=this.registry[e]||{},Object.keys(t).forEach((r=>{const n=t[r],s=i?i+\".\"+r:r,a=typeof n;Array.isArray(n)||\"string\"===a||\"number\"===a?this.registry[e][s]=n:this.add(n,e,s)})),this}setLocale(t){return this.currentLocale=t,this}getLocale(){return this.currentLocale}interpolateWith(t){return this.interpolateRE=t,this}setPluralizationRule(t,e,i){return this.pluralizationRules[t]={pluralizeTo:i&&(i.pluralizeTo||\"count\"),getVariationIndex:e},this}whenUndefined(t,e){return t}clear(){return this.registry={},this}}function createI18n(){return new t}function getI18n(){return createI18n()}export{createI18n,getI18n};\n//# sourceMappingURL=i18n.mjs.map\n","// @ts-nocheck\nimport { createI18n } from '@ficusjs/i18n/i18n'\nexport const i18n = createI18n()\n"],"names":["t","constructor","globalThis","__ficusjs__","i18n","this","registry","currentLocale","interpolateRE","pluralizationRules","en","pluralizeTo","getVariationIndex","_init","window","document","e","URLSearchParams","location","search","get","documentElement","lang","navigator","language","setLocale","_translatePlural","i","r","n","s","a","Object","keys","l","length","o","parseFloat","isNaN","Error","_interpolate","replace","locale","whenUndefined","Array","isArray","add","forEach","getLocale","interpolateWith","setPluralizationRule","clear"],"mappings":"AAAA,MAAMA,EAAEC,cAAc,GAAGC,WAAWC,aAAaD,WAAWC,YAAYC,KAAK,OAAOF,WAAWC,YAAYC,KAAKC,KAAKC,SAAS,CAAA,EAAGD,KAAKE,cAAc,KAAKF,KAAKG,cAAc,mBAAmBH,KAAKI,mBAAmB,CAACC,GAAG,CAACC,YAAY,QAAQC,kBAAkBZ,GAAG,IAAIA,EAAE,EAAE,IAAIK,KAAKQ,QAAQX,WAAWC,YAAYD,WAAWC,aAAa,CAAA,EAAGD,WAAWC,YAAYC,KAAKF,WAAWC,YAAYC,MAAMC,IAAI,CAACQ,QAAQ,GAAG,oBAAoBC,QAAQ,oBAAoBC,SAAS,CAAC,MAAgEC,EAAxD,IAAIC,gBAAgBH,OAAOI,SAASC,QAAQC,IAAI,UAAcL,SAASM,gBAAgBC,KAAKP,SAASM,gBAAgBC,KAAKC,UAAUC,UAAUR,GAAGX,KAAKoB,UAAUT,EAAE,CAAC,CAACU,iBAAiB1B,EAAEgB,EAAEW,EAAEC,EAAEC,GAAG,MAAMC,EAAEzB,KAAKI,mBAAmBmB,GAAGG,EAAEC,OAAOC,KAAKN,GAAGO,EAAE,IAAIH,EAAEI,OAAOJ,EAAE,GAAGF,GAAGC,EAAEnB,YAAYyB,EAAEC,WAAWV,EAAEO,IAAI,GAAGI,MAAMF,GAAG,MAAM,IAAIG,MAAM,wDAAwDvC,MAAM,OAAOK,KAAKmC,aAAaxB,EAAEc,EAAElB,kBAAkBwB,IAAIT,EAAE,CAACa,aAAaxC,EAAEgB,GAAG,OAAOA,EAAEhB,EAAEyC,QAAQpC,KAAKG,eAAa,SAAWR,EAAE2B,GAAG,OAAO,MAAMX,EAAEW,GAAGX,EAAEW,GAAG3B,CAAE,IAAGA,CAAC,CAACA,EAAEA,EAAEgB,EAAEW,GAAG,MAAMC,GAAGD,EAAEA,GAAG,CAAE,GAAEe,QAAQrC,KAAKE,cAAcsB,EAAEF,EAAErB,UAAUD,KAAKC,SAASwB,EAAED,EAAED,IAAIC,EAAED,GAAG5B,GAAG,YAAO,IAAS8B,EAAEzB,KAAKsC,cAAc3C,EAAE4B,GAAGgB,MAAMC,QAAQf,GAAGzB,KAAKqB,iBAAiB1B,EAAE8B,EAAEd,EAAEY,EAAED,EAAEhB,aAAaN,KAAKmC,aAAaV,EAAEd,EAAE,CAAC8B,IAAI9C,EAAEgB,EAAEW,GAAG,OAAOX,EAAEA,GAAGX,KAAKE,cAAcF,KAAKC,SAASU,GAAGX,KAAKC,SAASU,IAAI,CAAA,EAAGgB,OAAOC,KAAKjC,GAAG+C,SAASnB,IAAI,MAAMC,EAAE7B,EAAE4B,GAAGE,EAAEH,EAAEA,EAAE,IAAIC,EAAEA,EAAEG,SAASF,EAAEe,MAAMC,QAAQhB,IAAI,WAAWE,GAAG,WAAWA,EAAE1B,KAAKC,SAASU,GAAGc,GAAGD,EAAExB,KAAKyC,IAAIjB,EAAEb,EAAEc,EAAG,IAAGzB,IAAI,CAACoB,UAAUzB,GAAG,OAAOK,KAAKE,cAAcP,EAAEK,IAAI,CAAC2C,YAAY,OAAO3C,KAAKE,aAAa,CAAC0C,gBAAgBjD,GAAG,OAAOK,KAAKG,cAAcR,EAAEK,IAAI,CAAC6C,qBAAqBlD,EAAEgB,EAAEW,GAAG,OAAOtB,KAAKI,mBAAmBT,GAAG,CAACW,YAAYgB,IAAIA,EAAEhB,aAAa,SAASC,kBAAkBI,GAAGX,IAAI,CAACsC,cAAc3C,EAAEgB,GAAG,OAAOhB,CAAC,CAACmD,QAAQ,OAAO9C,KAAKC,SAAS,GAAGD,IAAI,ECEvwD,MAACD,EDFqyD,IAAIJ"}