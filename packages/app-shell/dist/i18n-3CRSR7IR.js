import"./chunk-RPHO6JGJ.js";var l=class{constructor(){if(globalThis.__ficusjs__&&globalThis.__ficusjs__.i18n)return globalThis.__ficusjs__.i18n;this.registry={},this.currentLocale="en",this.interpolateRE=/{{\s*(\w+)\s*}}/g,this.pluralizationRules={en:{pluralizeTo:"count",getVariationIndex:t=>t===1?0:1}},this._init(),globalThis.__ficusjs__=globalThis.__ficusjs__||{},globalThis.__ficusjs__.i18n=globalThis.__ficusjs__.i18n||this}_init(){if(typeof window<"u"&&typeof document<"u"){let t=new URLSearchParams(window.location.search).get("lang"),e=t||(document.documentElement.lang?document.documentElement.lang:navigator.language);e&&this.setLocale(e)}}_translatePlural(t,e,r,i,s){let n=this.pluralizationRules[i],a=Object.keys(r),c=a.length===1?a[0]:s||n.pluralizeTo,o=parseFloat(r[c]);if(isNaN(o))throw new Error(`Translation pluralization missing parameters on key '${t}'`);return this._interpolate(e[n.getVariationIndex(o)],r)}_interpolate(t,e){return e?t.replace(this.interpolateRE,function(r,i){return e[i]!=null?e[i]:r}):t}t(t,e,r){let i=(r=r||{}).locale||this.currentLocale,s=r.registry||this.registry,n=s[i]&&s[i][t];return n===void 0?this.whenUndefined(t,i):Array.isArray(n)?this._translatePlural(t,n,e,i,r.pluralizeTo):this._interpolate(n,e)}add(t,e,r){return e=e||this.currentLocale,this.registry[e]=this.registry[e]||{},Object.keys(t).forEach(i=>{let s=t[i],n=r?r+"."+i:i,a=typeof s;Array.isArray(s)||a==="string"||a==="number"?this.registry[e][n]=s:this.add(s,e,n)}),this}setLocale(t){return this.currentLocale=t,this}getLocale(){return this.currentLocale}interpolateWith(t){return this.interpolateRE=t,this}setPluralizationRule(t,e,r){return this.pluralizationRules[t]={pluralizeTo:r&&(r.pluralizeTo||"count"),getVariationIndex:e},this}whenUndefined(t,e){return t}clear(){return this.registry={},this}};function u(){return new l}var p=u();export{p as i18n};
// FicusJS App Shell ES Module bundle | v0.1.0
//# sourceMappingURL=i18n-3CRSR7IR.js.map
