import{a as l,c as a,g as t,i as r}from"./chunk-OVYBZV7R.js";import"./chunk-RPHO6JGJ.js";var f=Object.freeze({FICUS_APP_SHELL_ERROR:"ficus.app.shell.error",FICUS_APP_SHELL_IS_OFFLINE:"ficus.app.shell.is.offline",FICUS_APP_SHELL_OFFLINE:"ficus.app.shell.offline",FICUS_APP_SHELL_ONLINE:"ficus.app.shell.online"});function c(){return window.ficusShellRuntime&&window.ficusShellRuntime.routerOutletSelector?window.ficusShellRuntime.routerOutletSelector:"#router-outlet"}function S(){return window.ficusShellRuntime&&window.ficusShellRuntime.routerMode?window.ficusShellRuntime.routerMode:"hash"}function p(e){return t(r.APP_CONFIG).getModuleUrlByLocation(e)}function s(e){return t(r.APP_CONFIG).loadModuleByModuleUrl(e)}var R=a([],c(),{autoStart:!1,context:{eventBus:l()},resolveRoute(e,o){let i=t(r.APP_CONFIG).getState("appConfig.data.startPath");if(e.location.pathname==="/"&&e.location.pathname!==i)return{redirect:i};if(e.route&&typeof e.route.action=="function")return e.route.action(e,o);if(!e.route){let u=p(e.location.pathname);return u?s(u).then(()=>{if(e.route&&typeof e.route.action=="function")return e.route.action(e,o)}):void 0}},errorHandler(e,o){let n=p(o.location.pathname);if(n)return s(n).then(()=>{if(o.route&&typeof o.route.action=="function")return o.route.action(o,o.params)});o.context.eventBus.publish(f.FICUS_APP_SHELL_ERROR,e)},mode:S()});export{R as router};
// FicusJS App Shell ES Module bundle | v0.1.0
//# sourceMappingURL=router-YQDX6UTP.js.map
